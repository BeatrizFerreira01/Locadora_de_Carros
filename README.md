# üöó Projeto - Locadora de Carros

**Sistema de Loca√ß√£o de Carros com C√°lculo de Di√°rias e Descontos**  
Projeto desenvolvido para a disciplina de **Advanced Business Development with .NET**.

---

## üöÄ Tecnologias Usadas
- C#  
- ASP.NET Core 9  
- Entity Framework Core  
- Oracle Database  
- Postman (para testar as requisi√ß√µes)

---

## üõ†Ô∏è Como Rodar o Projeto

### 1. Pr√©-requisitos
- .NET 9 SDK instalado  
- Oracle Database (com a tabela `Carros` criada)  
- IDE (Visual Studio 2022 ou Visual Studio Code)

### 2. Clonar o reposit√≥rio
```bash
git clone https://github.com/SeuUsuario/Locadora_de_Carros.git
```

### 3. Navegar at√© o projeto
```bash
cd Locadora_de_Carros
```

### 4. Configurar a string de conex√£o
Edite o `appsettings.json` e insira sua string de conex√£o Oracle:
```json
"ConnectionStrings": {
  "DefaultConnection": "User Id=xxx;Password=SENHA;Data Source=oracle.fiap.com.br:1521/orcl;"
}
```

### 5. Criar o banco com EF Core
Abra o console do Gerenciador de Pacotes e execute:
```powershell
Add-Migration InitialCreate
Update-Database
```

### 6. Rodar o projeto
```bash
dotnet run
```

---

## üåê Endpoints da API

### Carros
| M√©todo | URL | Fun√ß√£o |
|--------|-----|--------|
| GET    | /api/carros         | Listar todos os carros     |
| GET    | /api/carros/{id}    | Buscar carro por ID        |
| POST   | /api/carros         | Cadastrar carro            |
| PUT    | /api/carros/{id}    | Atualizar carro            |
| DELETE | /api/carros/{id}    | Remover carro              |

### Loca√ß√£o
| M√©todo | URL                        | Fun√ß√£o                        |
|--------|----------------------------|-------------------------------|
| POST   | /api/locacoes/calcular     | Calcular valor da loca√ß√£o     |

---

## üóÉÔ∏è Estrutura da Tabela no Oracle

```sql
CREATE TABLE Carros (
    Id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Modelo VARCHAR2(100) NOT NULL,
    Marca VARCHAR2(100) NOT NULL,
    Ano NUMBER(4) NOT NULL,
    ValorDiaria NUMBER(10, 2) NOT NULL
);
```

---

## üìã Regras de Neg√≥cio

### C√°lculo de Loca√ß√£o

- Dias = `dataFim - dataInicio`
- Subtotal = dias √ó valor da di√°ria
- Regras de desconto:
  - **Menos de 3 dias**: sem desconto
  - **De 3 a 6 dias**: 5% de desconto
  - **7 dias ou mais**: 10% de desconto

---

## ‚úÖ Exemplos de Testes no Postman

### 1. Cadastrar Carro
**POST:** `https://localhost:xxxx/api/carros`
```json
{
  "modelo": "M3 Competion",
  "marca": "BMW",
  "ano": 2025,
  "valorDiaria": 1500
}
```

### 2. Calcular Loca√ß√£o
**POST:** `https://localhost:xxxx/api/locacoes/calcular`
```json
{
  "carroId": 1,
  "dataInicio": "2025-05-06",
  "dataFim": "2025-05-10"
}
```

### Sa√≠da Esperada
```json
{
  "carro": "M3 Competion",
  "marca": "BMW",
  "dataInicio": "2025-05-06",
  "dataFim": "2025-05-10",
  "valorDiaria": 1500,
  "subtotal": 6000,
  "desconto": "10%",
  "valorFinal": 5400
}
```

---

## üë©‚Äçüíª Desenvolvedora
- Beatriz Ferreira Cruz  

---

## üìù Observa√ß√µes

Este projeto foi desenvolvido como parte da disciplina **Advanced Business Development with .NET**, com foco em:

- Cria√ß√£o de API REST com ASP.NET Core  
- Integra√ß√£o com banco de dados Oracle  
- C√°lculo de regras de neg√≥cio com l√≥gica de desconto  
- Testes com Postman  
- Organiza√ß√£o de c√≥digo com boas pr√°ticas e coment√°rios explicativos  
- Utiliza√ß√£o do EF Core com migra√ß√µes (Add-Migration / Update-Database)
